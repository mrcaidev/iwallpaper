# 需求规格

**目录**

- [需求规格](#需求规格)
- [1 引言](#1-引言)
  - [1.1 目的](#11-目的)
  - [1.2 范围](#12-范围)
  - [1.3 定义、简写和缩略语](#13-定义简写和缩略语)
  - [1.4 引用文件](#14-引用文件)
  - [1.5 综述](#15-综述)
- [2 总体描述](#2-总体描述)
  - [2.1 软件描述](#21-软件描述)
    - [2.1.1 系统接口](#211-系统接口)
    - [2.1.2 用户界面](#212-用户界面)
    - [2.1.3 硬件接口](#213-硬件接口)
    - [2.1.4 软件接口](#214-软件接口)
    - [2.1.5 通信接口](#215-通信接口)
  - [2.2 软件功能](#22-软件功能)
  - [2.3 用户特点](#23-用户特点)
  - [2.4 假设和依赖关系](#24-假设和依赖关系)
- [3 具体需求](#3-具体需求)
  - [3.1 外部接口](#31-外部接口)
    - [3.1.1 用户界面](#311-用户界面)
    - [3.1.2 硬件接口](#312-硬件接口)
    - [3.1.3 软件接口](#313-软件接口)
    - [3.1.4 通信接口](#314-通信接口)
  - [3.2 功能需求](#32-功能需求)
    - [3.2.1 账号管理](#321-账号管理)
      - [3.2.1.1 注册账号](#3211-注册账号)
      - [3.2.1.2 登录账号](#3212-登录账号)
      - [3.2.1.3 查看资料](#3213-查看资料)
      - [3.2.1.4 修改资料](#3214-修改资料)
      - [3.2.1.5 注销账号](#3215-注销账号)
    - [3.2.2 推荐系统](#322-推荐系统)
      - [3.2.2.1 推荐壁纸](#3221-推荐壁纸)
    - [3.2.3 搜索引擎](#323-搜索引擎)
      - [3.2.3.1 搜索壁纸](#3231-搜索壁纸)
    - [3.2.4 壁纸互动](#324-壁纸互动)
      - [3.2.4.1 查看壁纸详情](#3241-查看壁纸详情)
      - [3.2.4.2 点赞壁纸](#3242-点赞壁纸)
      - [3.2.4.3 浏览点赞壁纸](#3243-浏览点赞壁纸)
      - [3.2.4.4 点踩壁纸](#3244-点踩壁纸)
      - [3.2.4.5 评分壁纸](#3245-评分壁纸)
      - [3.2.4.6 下载壁纸](#3246-下载壁纸)
  - [3.3 性能需求](#33-性能需求)
    - [3.3.1 用户界面](#331-用户界面)
    - [3.3.2 响应时间](#332-响应时间)
    - [3.3.3 可靠性](#333-可靠性)
    - [3.3.4 可扩展性](#334-可扩展性)
    - [3.3.5 安全性](#335-安全性)

# 1 引言

## 1.1 目的

该文档是项目《壁纸探索平台的设计与实现》的软件需求规格，旨在对软件的需求做出正确、无歧义、完备、一致、重要性分级、可验证、可修改、可追踪的描述，而不会描述软件的任何具体设计或实现细节。

该文档将作为该项目下的软件概要设计的输入。

该文档的预期读者是软件的设计人员、开发人员、管理人员、测试人员以及用户。

## 1.2 范围

该文档服务于项目《壁纸探索平台的设计与实现》，要开发的软件的全称为“壁纸探索平台 iwallpaper”，简称为“iwallpaper”。

该软件是电子科技大学学生蔡与望的本科毕业设计，其目的是：通过设计和实现一个壁纸探索平台，进行针对多媒体内容信息检索的、依托于 Web 前后端技术的、具有一定数据规模的软件工程实践，以期作为信息化时代软件开发的一个参考解决方案。软件不产生任何收益，也不会被（并且禁止）用于商业用途。

## 1.3 定义、简写和缩略语

| 词汇       | 含义                                                                 |
| ---------- | -------------------------------------------------------------------- |
| Lighthouse | 一种用于评估 Web 页面综合表现的工具                                  |
| SEO        | Search Engine Optimization，针对搜索引擎的 Web 页面优化              |
| Serverless | 一种无需管理服务器的云计算服务                                       |
| API        | Application Programming Interface，应用程序接口                      |
| 参与者     | 系统的使用者或使用环境，存在于系统外部并与系统发生交互的人或其它系统 |
| 用例       | 系统提供的服务，对于参与者如何与系统交互的描述                       |

## 1.4 引用文件

1. 计算机软件文档编制规范（GB/T 8567-2006）
2. 计算机软件需求规格说明规范（GB/T 9385-2008）

## 1.5 综述

该文档的剩余部分包含了以下内容。

1. 总体描述部分描述了影响软件及其需求的一般因素，而不叙述具体的需求。相反，它提供需求的背景并使它们更易理解。
2. 具体需求部分包括了足够详细的所有软件需求，使设计人员能够设计软件以满足这些需求，并且使测试人员能够测试该软件满足这些需求。

# 2 总体描述

## 2.1 软件描述

### 2.1.1 系统接口

软件不是任何一个系统的组成部分，因此没有系统接口。

### 2.1.2 用户界面

软件的用户界面以网页形式呈现。用户可以通过浏览器访问，并使用鼠标、键盘或触摸屏与软件进行交互。屏幕的横纵向与分辨率不限。

### 2.1.3 硬件接口

| 名称         | 特征                                                      |
| ------------ | --------------------------------------------------------- |
| 数据库服务器 | Serverless 平台的服务器，免费，容量至少为 500 M           |
| 后端服务器   | Serverless 平台的服务器，免费，出口带宽月配额至少为 100 G |
| 前端服务器   | Serverless 平台的服务器，免费，出口带宽月配额至少为 100 G |
| 客户机       | 安装有任何主流浏览器                                      |

### 2.1.4 软件接口

| 名称         | 版本                                | 目的         |
| ------------ | ----------------------------------- | ------------ |
| Unsplash     | 最新                                | 爬取壁纸     |
| 客户机浏览器 | 任何主流浏览器的近 5 年内发行的版本 | 用户访问软件 |

### 2.1.5 通信接口

软件向公网开放两个端口，分别支持 HTTP 和 HTTPS 协议，用于客户机与软件间的通信。

## 2.2 软件功能

1. 账号管理：用户能够登录、修改资料以及注销账号。
2. 推荐系统：根据用户喜好，智能推荐用户可能喜欢的壁纸。
3. 搜索引擎：搜索与用户输入的关键词相匹配的壁纸。
4. 壁纸互动：用户能够对壁纸做出点赞、点踩、评分、下载等反馈。

## 2.3 用户特点

软件的用户以追求个性化、愿意尝试新事物的年轻人群为主。

这些用户的受教育程度不一，并且不必拥有计算机相关领域的专业技术能力；但他们能够熟练地使用计算机或手机等电子设备，有丰富的互联网经验。

## 2.4 假设和依赖关系

软件部署时所依托的各个 Serverless 平台默认能够免费托管软件的各个部分，并且实现软件所有功能。然而，如果假设不成立，那么软件将转而使用 Docker 容器进行本地部署。

# 3 具体需求

## 3.1 外部接口

### 3.1.1 用户界面

软件的用户界面应当主题突出、格式统一、布局合理、美观大方，适配任意屏幕尺寸大小，拥有明确的导航指示，符合用户直觉，方便用户使用。

在 Lighthouse 的移动端和桌面端测试中，这些 Web 页面应当在性能、无障碍、最佳实践以及 SEO 四个方面上，均取得 90 分以上的成绩。

### 3.1.2 硬件接口

软件在数据库、后端与前端的服务器上进行数据读写与计算。软件通过网络，在客户机上进行数据展示与用户交互。

### 3.1.3 软件接口

软件通过 Unsplash 的 API 爬取壁纸数据，作为自身的数据库。软件在客户机的浏览器上展示用户界面。

### 3.1.4 通信接口

软件与客户机之间采用 HTTP/2.0 协议进行通信。客户机发出的 HTTP 协议的流量会被重定向到 HTTPS。

## 3.2 功能需求

### 3.2.1 账号管理

#### 3.2.1.1 注册账号

-   用例描述：用户可以通过邮箱和密码注册账号。
-   重要级：基本
-   参与者：用户
-   前置条件：用户未登录。
-   后置条件：新账号被创建，用户登录到系统，并可以使用仅限登录用户使用的功能。
-   主事件流：

    1. 用户访问注册页面。
    2. 用户输入有效的邮箱地址、密码和重复密码，并且点击注册按钮。
    3. 系统确认邮箱地址和密码有效，验证两次密码一致，将用户重定向到首页。

-   备选事件流 1 - 用户输入无效的邮箱地址：

    1. 用户访问注册页面。
    2. 用户输入无效的邮箱地址，并且点击注册按钮。
    3. 系统确认邮箱地址无效，弹窗提示用户输入的邮箱地址无效。

-   备选事件流 2 - 用户输入无效的密码或重复密码：

    1. 用户访问注册页面。
    2. 用户输入无效（长度不在 8-20 个字符之间）的密码，并且点击注册按钮。
    3. 系统确认密码无效，弹窗提示用户输入的密码无效。

-   备选事件流 3 - 用户输入的两次密码不一致：

    1. 用户访问注册页面。
    2. 用户输入有效的邮箱地址、密码和重复密码，并且点击注册按钮。
    3. 系统确认邮箱地址和密码有效，验证两次密码不一致，弹窗提示用户输入的两次密码不一致。

-   备选事件流 4 - 用户已登录：

    1. 用户访问注册页面。
    2. 系统将用户重定向到首页。

#### 3.2.1.2 登录账号

-   用例描述：用户可以通过邮箱和密码登录系统。
-   重要级：基本
-   参与者：用户
-   前置条件：用户未登录。
-   后置条件：用户登录到系统，并可以使用仅限登录用户使用的功能。
-   主事件流：

    1. 用户访问登录页面。
    2. 用户输入有效的邮箱地址和密码，并且点击登录按钮。
    3. 系统确认邮箱地址和密码有效，验证密码正确，将用户重定向到首页。

-   备选事件流 1 - 用户输入无效的邮箱地址：

    1. 用户访问登录页面。
    2. 用户输入无效的邮箱地址，并且点击登录按钮。
    3. 系统确认邮箱地址无效，弹窗提示用户输入的邮箱地址无效。

-   备选事件流 2 - 用户输入无效的密码：

    1. 用户访问登录页面。
    2. 用户输入无效（长度不在 8-20 个字符之间）的密码，并且点击登录按钮。
    3. 系统确认密码无效，弹窗提示用户输入的密码无效。

-   备选事件流 3 - 用户输入的密码错误：

    1. 用户访问登录页面。
    2. 用户输入有效的邮箱地址和密码，并且点击登录按钮。
    3. 系统确认邮箱地址和密码有效，验证密码错误，弹窗提示用户输入的密码错误。

-   备选事件流 4 - 用户已登录：

    1. 用户访问登录页面。
    2. 系统将用户重定向到首页。

#### 3.2.1.3 查看资料

-   用例描述：用户可以查看其它用户的资料。
-   重要级：有条件的
-   参与者：用户
-   前置条件：无。
-   后置条件：无。
-   主事件流：

    1. 用户访问用户资料页面。
    2. 系统展示用户的头像和昵称。

#### 3.2.1.4 修改资料

-   用例描述：用户可以修改自己的资料。
-   重要级：有条件
-   参与者：用户
-   前置条件：用户已登录。
-   后置条件：用户的资料被修改。
-   主事件流：

    1. 用户访问设置页面。
    2. 用户输入有效的新资料，并且点击保存按钮。
    3. 系统确认新资料有效，将表单置为禁用状态，保存用户的资料.
    4. 系统将表单置为启用状态，并弹窗提示修改成功。

-   备选事件流 1 - 用户输入无效的新资料：

    1. 用户访问设置页面。
    2. 用户输入无效的新资料，并且点击保存按钮。
    3. 系统确认新资料无效，弹窗提示用户输入的新资料无效。

-   备选事件流 2 - 用户未登录：

    1. 用户访问设置页面。
    2. 系统将用户重定向到登录页面。

#### 3.2.1.5 注销账号

-   用例描述：用户可以注销自己的账号。
-   重要级：基本
-   参与者：用户
-   前置条件：用户已登录。
-   后置条件：用户的账号被注销。
-   主事件流：

    1. 用户访问设置页面。
    2. 用户点击注销账号按钮。
    3. 系统弹窗提示用户确认注销账号。
    4. 用户点击确认按钮。
    5. 系统注销用户的账号，并弹窗提示注销成功。

-   备选事件流 1 - 用户点击取消按钮：

    1. 用户访问设置页面。
    2. 用户点击注销账号按钮。
    3. 系统弹窗提示用户确认注销账号。
    4. 用户点击取消按钮。

-   备选事件流 2 - 用户未登录：

    1. 用户访问设置页面。
    2. 系统将用户重定向到登录页面。

### 3.2.2 推荐系统

#### 3.2.2.1 推荐壁纸

-   用例描述：用户浏览看到系统推荐的壁纸。
-   重要级：基本
-   参与者：用户
-   前置条件：无。
-   后置条件：无。
-   主事件流：

    1. 用户访问首页。
    2. 系统根据用户的喜好，推荐壁纸给用户。
    3. 用户无限下拉，浏览推荐的壁纸。

-   备选事件流 1 - 用户未登录：

    1. 用户访问首页。
    2. 系统随机推荐壁纸给用户。
    3. 用户无限下拉，浏览推荐的壁纸。

### 3.2.3 搜索引擎

#### 3.2.3.1 搜索壁纸

-   用例描述：用户可以通过关键词搜索壁纸。
-   重要级：基本
-   参与者：用户
-   前置条件：无。
-   后置条件：用户搜索到的壁纸被展示。
-   主事件流：

    1. 用户访问搜索页面，或点击任意页面上的搜索框。
    2. 用户输入有效的关键词，并且点击搜索按钮。
    3. 系统确认关键词有效，根据关键词搜索壁纸。

-   备选事件流 1 - 用户输入无效的关键词：

    1. 用户访问搜索页面，或点击任意页面上的搜索框。
    2. 用户输入无效的关键词，并且点击搜索按钮。
    3. 系统确认关键词无效，弹窗提示用户输入的关键词无效。

-   备选事件流 2 - 搜索结果为空

    1. 用户访问搜索页面，或点击任意页面上的搜索框。
    2. 用户输入有效的关键词，并且点击搜索按钮。
    3. 系统确认关键词有效，根据关键词搜索壁纸。
    4. 系统未搜索到任何壁纸，在给出提示语的同时，展示为用户推荐的壁纸。

### 3.2.4 壁纸互动

#### 3.2.4.1 查看壁纸详情

-   用例描述：用户可以查看壁纸的详细信息。
-   重要级：基本
-   参与者：用户
-   前置条件：无。
-   后置条件：壁纸的详细信息被展示。
-   主事件流：

    1. 用户浏览壁纸缩略图。
    2. 用户点击壁纸缩略图。
    3. 系统跳转到壁纸详情页，展示壁纸详情。

#### 3.2.4.2 点赞壁纸

-   用例描述：用户可以点赞自己喜欢的壁纸。
-   重要级：基本
-   参与者：用户
-   前置条件：用户已登录。
-   后置条件：用户点赞的壁纸被记录。
-   主事件流：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点赞按钮。
    3. 系统记录用户点赞了这张壁纸，并调整用户对它的评分。

-   备选事件流 1 - 用户已点赞过该壁纸：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点赞按钮。
    3. 系统记录用户取消点赞了这张壁纸，并调整用户对它的评分。

-   备选事件流 2 - 用户已点踩过该壁纸：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点赞按钮。
    3. 系统记录用户取消点踩并点赞了这张壁纸，并调整用户对它的评分。

-   备选事件流 3 - 用户未登录：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点赞按钮。
    3. 系统跳转至登录页面。

#### 3.2.4.3 浏览点赞壁纸

-   用例描述：用户可以浏览自己点赞过的壁纸。
-   重要级：有条件
-   参与者：用户
-   前置条件：用户已登录。
-   后置条件：用户浏览点赞过的壁纸。
-   主事件流：

    1. 用户访问收藏页面。
    2. 系统展示用户点赞过的壁纸缩略图。

-   备选事件流 1 - 用户未登录：

    1. 用户访问收藏页面。
    2. 系统跳转至登录页面。

#### 3.2.4.4 点踩壁纸

-   用例描述：用户可以点踩自己不喜欢的壁纸。
-   重要级：基本
-   参与者：用户
-   前置条件：用户已登录。
-   后置条件：用户点踩的壁纸被记录。
-   主事件流：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点踩按钮。
    3. 系统记录用户点踩了这张壁纸，并调整用户对它的评分。

-   备选事件流 1 - 用户已点踩过该壁纸：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点踩按钮。
    3. 系统记录用户取消点踩了这张壁纸，并调整用户对它的评分。

-   备选事件流 2 - 用户已点赞过该壁纸：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点踩按钮。
    3. 系统记录用户取消点赞并点踩了这张壁纸，并调整用户对它的评分。

-   备选事件流 3 - 用户未登录：

    1. 用户浏览壁纸缩略图，或访问壁纸详情页面。
    2. 用户点击点踩按钮。
    3. 系统跳转至登录页面。

#### 3.2.4.5 评分壁纸

-   用例描述：用户可以给壁纸评分。
-   重要级：基本
-   参与者：用户
-   前置条件：用户已登录。
-   后置条件：用户对壁纸的评分被记录。
-   主事件流：

    1. 用户访问壁纸详情页面。
    2. 用户从 1-5 星中点击选择星数，作为评分。
    3. 系统记录用户对壁纸的评分。

-   备选事件流 1 - 用户未登录：

    1. 用户访问壁纸详情页面。
    2. 用户从 1-5 星中点击选择星数，作为评分。
    3. 系统跳转至登录页面。

#### 3.2.4.6 下载壁纸

-   用例描述：用户可以下载壁纸。
-   重要级：基本
-   参与者：用户
-   前置条件：用户已登录。
-   后置条件：用户下载壁纸的行为被记录。
-   主事件流：

    1. 用户访问壁纸详情页面。
    2. 用户点击下载按钮。
    3. 系统记录用户下载壁纸的行为，并允许用户将壁纸文件存储至本地。

-   备选事件流 1 - 用户未登录：

    1. 用户访问壁纸详情页面。
    2. 用户点击下载按钮。
    3. 系统跳转至登录页面。

## 3.3 性能需求

### 3.3.1 用户界面

软件的 Web 界面应当主题突出、格式统一、布局合理、美观大方，适配任意屏幕尺寸大小，拥有明确的导航指示，方便用户使用。

在 Lighthouse 的移动端和桌面端测试中，这些 Web 页面应当在性能、无障碍、最佳实践以及 SEO 四个方面上，均取得 90 分以上的成绩。

### 3.3.2 响应时间

在用户第一次访问软件时，从开始访问页面到页面能够互动的时间应当在 5 秒内。之后，用户在软件内跳转页面时，从开始跳转页面到页面能够互动的时间应当在 2 秒内。

对于所有的用户操作，响应时间应当小于 5 秒。对于响应有可能超过 2 秒的用户操作，软件必须显示即时反馈，例如加载动画或进度条。

### 3.3.3 可靠性

软件应当保证 7x24 小时的可用性，至少 20 人能够同时登录，且在 99.9% 的时间内能够正常访问与互动。

在服务器宕机或上流错误等罕见的不可用情况下，软件应当为用户提供清晰、友好的事态解释，例如错误代码、错误原因、预计恢复时间等。

### 3.3.4 可扩展性

软件的设计应当足够灵活，以适应将来功能扩展的需求。软件应当支持在不停机的情况下进行功能扩展。

### 3.3.5 安全性

软件应当保证用户的隐私安全，不泄露用户的个人信息。

软件应当保证用户的数据安全，不丢失、不破坏用户的数据。

软件应当防止用户非法获取或随意篡改服务端数据。

软件应当采取限速措施，防止用户或爬虫程序的恶意攻击。
